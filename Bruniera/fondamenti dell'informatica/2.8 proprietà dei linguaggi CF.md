# Proprietà dei linguaggi liberi dal contesto

## Osservazioni sulla FN di Chomsky

Se un albero di derivazione per una stringa $z\in T^*$ ha tutti i cammini di lunghezza minore od uguale ad $i$, allora $|z|\leq2^{i-1}$ (meno 1 perché l'ultmo livello sono i cammini $A\rightarrow a$)

## Pumping lemma

**lemma**: sia $L$ un linguaggio CF. Allora esiste una costante $n\in\N$ (dipendente dal linguaggio) tale che per ogni $z\in L,|z|\geq n$ esistono stringhe $uvwxy$ tali che:
1. $z=uvwxy$
2. $|vx|\geq1$
3. $|vwx|\leq n$
4. $\forall i\geq0(uv^iwx^iy\in L)$

È un po' più complicato da applicare dell'altro pumping lemma perché ha più casi da considerare.

**dimostrazione**:
* Sia $G=\langle V,T,P,S\rangle$ la grammatica in FN di Chomsky che genera $L\setminus\{\varepsilon\}$. 
* Sia $|V|=k,~(k>0)$ e sia $n=2^k,~(n>1)$.
* Se $z\in L$ e $|z|\geq n$, allora ogni albero di derivazione per $z$ deve avere almeno un cammino di lunghezza $k+1$. Tale cammino deve avere almeno $k+2$ tutti etichettati da variabili tranne l'ultimo. 
* Per il principio della piccionaia deve esserci almeno una variabile ripetuta. 
* Partendo dal $k+1$-esimo nodo e salendo, scelgo la prima variabile ripetuta $A$.
* Considero i due sottoalberi di $A$ e i due della sua ripetizione.
* La stringa è separata in 5 parti:
  1. $u$ La prima parte che non cade in nessun albero
  2. $v$ La prima parte che cade solo nell'albero più in alto
  3. $w$ La parte che cade in entrambi gli alberi
  4. $x$ La seconda parte che cade solo nell'albero più in alto
  5. $y$ La seconda parte che non cade in nessun albero
* Il percorso tra le due occorrenze di $A$ può essere ripetuto. Come il ciclo nell'altro pumping lemma.
* Ripetere il percorso raddoppia le due porzioni di stringa $v$ e $x$ 
* Posso continuare ad aggiungere indefinitamente quel percorso ripetendo allo stesso modo entrambe le porzioni di stringa

Lemma affermativo:

$\exists n\in\N\forall z(\\\quad(z\in L\land|z|\geq n)\rightarrow\exists u,v,w,x,y(\\\qquad z=uvwxy\land|zx|\geq1\land|vwx|\leq n\land\forall i(\\\qquad\quad i\in\N\rightarrow uv^iwx^iy\in L\\\qquad)\\\quad)\\)$

Se $L$ è CF allora esiste $n$ tale che per ogni $z$ in $L$ più lunga di $n$ esistono $uvwxy=z$ tali che $v$ e $x$ non possono essere vuoti entrambi e $vwx$ sono più corti di $n$, e tali che ripetendo $v$ ed $x$ una stessa quantita arbitraria di volte ottengo sempre una stringa appartenente ad $L$

Lemma complementato:

$\forall n\in\N\exists z(\\\quad z\in L\land|z|\geq n\land\forall u,v,w,x,y(\\\qquad z=uvwxy\land|vx|\geq1\land|vwx|\leq n\rightarrow\exists i(\\\qquad\quad i\in\N\land uv^iwx^iy\notin L\\\qquad)\\\quad)\\)$

Se per ogni $n$ esiste una $z$ tale che per qualsuasi $uvwxy=z$ (tali che $v$ e $x$ non possono essere vuoti entrambi e $vwx$ sono più corti di $n$), quindi per qualunque modo di partizionarlo, so trovare un $i$ tale che $uv^iwx^i$ non appartenga ad $L$; allora $L$ non è CF

### Esempio: $L=\{0^n1^n2^n:n\geq0\}$

* Dato $n$ scelgo $z=0^n1^n2^n\in L$; $vwx$ non può essere più lungo di una porzione di terminali uguali perche $|vwx|\leq n$
  * $vwx$ è di soli $0$
    * Con qualsiasi $i\neq1$ il numero di $0$ cambia e degli altri terminali no
  * $vwx$ è di soli $1$
    * Con qualsiasi $i\neq1$ il numero di $1$ cambia e degli altri terminali no
  * $vwx$ è di soli $2$
    * Con qualsiasi $i\neq1$ il numero di $2$ cambia e degli altri terminali no
  * $vwx$ è a cavallo tra $0$ e $1$
    * Con qualsiasi modo di partizionare $vwx$, con qualsiasi $i\neq1$ variera il numero di $0$ o $1$ o entrambi, ma non di $2$
  * $vwx$ è a cavallo tra $1$ e $2$
    * Con qualsiasi modo di partizionare $vwx$, con qualsiasi $i\neq1$ variera il numero di $1$ o $2$ o entrambi, ma non di $0$

$L=\{0^n1^n2^n:n\geq0\}$ non è libero dal contesto.

**N.B.**: Questo è un caso comodo perché non importa come vengono partizionati $vwx$, però negli altri casi bisogna controllare sempre anche tutti i modi di partizionarlo.
