# Insiemi creativi e produttivi

Anche tra gli insiemi non r.e. ci sono alcuni che sono più interessanti degli altri.

## Insiemi produttivi

Partizioniamo $\N$ tra $K$ e $\overline K$.

Sia $x$ tale che $W_x\subseteq\overline{K}$. Ricordiamo che un insieme $A$ è r.e. se esiste un $x$ tale per cui $A=W_x$, quindi se $W_x$ fosse uguale a $\overline K$ quest'ultimo sarebbe r.e. (ma non lo è).

$W_x=\{y:\varphi_x(y)\downarrow\}$. Esiste un $x$ tale per cui $W_x\subseteq\overline{K}$. Ad esempio $W_6=\emptyset$ ed $\emptyset\subseteq\overline K$. Vogliamo cercare $W_x$ sempre più grandi fino a prendere tutto $\overline{K}$

Il numero $x$ può trovarsi in $K$, in $\overline{K}$ oppure in $W_x$:
* Se $x\in K$ allora, per definizione di $K$, $\varphi_x(x)\downarrow$, Quindi $x\in W_x$ perciò $x\in\overline{K}$.
  * Assurdo
* Se $x\in W_x$ (di conseguenza $x\in\overline{K}$) allora, per definizione di $W_x$, $\varphi_x(x)\downarrow$, Quindi $x\in K$
  * Assurdo
* Se $x\in\overline K$ allora $x\in\overline{K}\setminus W_x$
  * Viene *prodotto* $x$ che è un testimone della differenza

**definizione**: Un insieme $A\subseteq\N$ di dice *produttivo* se esiste una funzione totale ricorsiva $f$ detta *funzione produttiva di $A$* tale che: 
$$\forall x\in\N(W_x\subseteq A\Rightarrow f(x)\in A\setminus W_x)$$

**N.B.**: $A$ produttivo $\Rightarrow$ $A$ non r.e.: Per assurdo se $A$ fosse r.e. allora esisterebbe $x$ tale che $W_x=A$, quindi $A\setminus W_x=\emptyset$; Quindi, per qualsiasi $f$, $f(x)\notin A\setminus W_x$. Ma se fosse produttivo esisterebbe una funzione $f$ tale che $f(x)\in A\setminus W_x$, che è assurdo.

Come conseguenza, per mostrare che $A$ è produttivo (e quindi non r.e., ma in modo forte, non semplicemente non sapendo scrivere la funzione semicaratteristica) è sufficiente mostra re che $\overline K\preceq A$

**teorema**: Se $A$ è produttivo e $A\preceq B$, allora $B$ è produttivo

Sia $A$ produttivo e tale che $A\preceq B$ via $f$. Sia $h$ la funzione produttiva di $A$. Nella dimostrazione useremo l'inversa $f^{-1}(x)=\{x:f(x)\in X\}$. È immediato veridicare che è monotona ovvero: $X\subseteq Y\Rightarrow f^{-1}(x)\subseteq f^{-1}(y)$

$f$ è ricorsiva, dunque esiste una funzione parziale ricorsiva tale che:

* $\psi(x,y)=$
  * $1$ se $f(y)\in W_x$
  * $\uparrow$ altrimenti

Per il teorema SMN... $\psi(x,y)=\varphi_{g(x)}(y)$. Inoltre, per definizione di $\psi$, fissato $x\in\N$ $W_{g(x)}=f^{-1}(W_x)$

Abbiamo tre funzioni ricorsive totali: $h$ (funzione produttiva di $A$), $f$ (la funzione di riduzione di $A$ in $B$) e La funzione $g$ ottenuta dall'applicazione del teorema SMN a $\psi$.

Vogliamo dimostrare che se $W_x\subseteq B$ allora $f(h(g(x)))\in B\setminus W_x$. Ricordiamo che $f(h(g(x)))=f\circ h\circ g(x)$.
* La funzione $f$ porta ogni elemento di $A$ dentro di $B$.
* Partendo da $W_x$, $f^{-1}(W_x)$ è $W_{g(x)}$ che è incluso in $A$.
* $A$ è produttivo con la funzione $h$, Quindi $h(g(x))\in A\setminus W_{g(x)}$
* Applicando $f$ a $h(g(x))$ mandiamo un elemento di $A\setminus W_{g(x)}$ in $B$
* Se $f(h(g(x)))$ fosse in $W_x$, allora $h(g(x))$ sarebbe in $W_{g(x)}$ (attraverso $f^{-1}$) e non è possibile.

**teorema**: Sia $A$ un insieme produttivo. Esiste $n_0\in\N$ che $W_{n_0}\subseteq A\land|W_{n_0}|=\omega$

In pratica esiste un sottoinsieme di $A$ che è r.e. ed infinito

Intuitivamente, Abbiamo un $A$ produttivo e la sua funzione produttiva $f$. Prendiamo il numero $6\rightarrow W_6=\emptyset\subseteq A$, quindi $f(6)\in A\setminus W_6=A$. Costruisco una MdT che termina solo in $f(6)$ e ne calcolo l'indice $i_1$. Quindi $f(i_1)\in A\setminus W_{i_1}\rightarrow\in A$. Costruisco la macchina che termina solo in $f(6)$ ed in $f(i_1)$, calcolo l'indice $i_2$ e reitero. Posso reiterare all'infinito ottenendo sempre indici diversi, quindi è infinito; è r.e. perché posso costruire una funzione che itera finché non trova come indice l'argomento della funzione, e questa è la funzione semicaratteristica dell'insieme

// TODO 24:00

**dimostrazione**:

Si consideri la funzione ovunque indefinita: $\psi(x,y)=\uparrow$

È calcolabile. Per il teorema SMN... $\varphi_{g(x)}(y)=\psi(x,y)$. Pertanto, in particolare, $W_{g(0)}=\emptyset$.

Si consideri:
* $\eta(x,y)$
  * $0$ se $y=f(x)$ oppure $y\in W_x$
  * $\uparrow$ altrimenti

Poiché $f$ è ricorsiva, $\eta$ è calcolabile e per il teorema SMN

//TODO

## Insiemi creativi

**definizione**: Un insieme $A$ è creatico se $A$ è r.e. ed il suo complementare è produttivo.

Ogni volta che dimostravamo che un insiseme è completo dimostravamo anche che era creativo perché $K\preceq B\rightarrow\overline K\preceq\overline B$

**teorema** (Myhill): Sia $A\subseteq\N$ $A$ è r.e. completo sse $A$ è creativo

**dimostrazione $(\Rightarrow)$**: Sia $A$ r.e.. $A$ è completo sse per ogni $X$ r.e.: 

//TODO 30:00


**dimostrazione $(\Leftarrow)$**:

//TODO

## L'insieme semplice

**definizione**: Un inssieme $A\subseteq\N$ se:
* $A$ è r.e.
* $|\overline{A}|=\omega$, ovvero $\overline{A}$ è infinito
* $\forall x\in\N~|W_x|=\omega\rightarrow A\cap W_x\neq\emptyset$

**teorema**:
1. $A$ è semplice $\rightarrow A$ non è ricorsivo
2. $A$ è semplice $\rightarrow A$ non è creativo

**teorema**: Esiste un insieme semolice.

**dimostrazione**:

Definiamo l'insieme:

$$A=\{(x,y):y\in W_x\land~y>2x\}=\{(x,y):\varphi_x(y)\downarrow\land~y>2x\}$$

*Ogni coppia di programma ed input che termina, in cui l'input è grande almeno il doppio del programma*

È ovvio che $A$ è r.e. (la funzione semicaratteristica è definita con computazione dove-tail) e che $A\neq\emptyset$ (la funzione $\varphi_0$ termina sempre). Pertanto esiste $f$ ricorsiva totale tale che $A=range(f)$. Definiamo una relazione di precedenza $\triangleleft$ sulle coppie di numeri tali che:

$(x',y')\triangleleft(x,y)$ sse $\exist n\exist (n=\min z((x',y')=f(z))\land m=\min z((x,y)=f(z))\land~n<m)$

Ovvero $(x',y')\triangleleft(x,y)$ se $(x',y')$ viene generata per prima nell'enumerazione di $A$ da parte di $f$

Definiamo l'insieme:

$$B=\{(x,y)\in A:\forall z\neq y~(x,z)\in A\rightarrow(x,y)\triangleleft(x,z)\}$$

*Per ogni programma che con qualche input termina, solo la coppia di programma ed input che termina, con l'input minimo possibile, ma almeno il doppio del programma*

$B$ è r.e. infatti, supponiamo $(x,y)\in B$ allora inanzitutto sappiamo verificare che $\varphi_x(y)\downarrow$ e $y>2x$. Bisogna, inoltre, verificare che per ogni altro 

//TODO 1:21:00

Definiamo l'insieme:

$$S=\{y:\exist x(x,y)\in B\}$$

*Ogni possibile input che è il più piccolo input per cui un qualche programma, con indice che vale al più metà dell'input, termina*

Mostriamo che è semplice:
* $S$ è r.e. perché lo è $B$
  * Nella funzione semicaratteristica utilizzo la computazione dove-tail per cercare la $x$
* dopo
* Inoltre, sia $|W_x|=\omega$. Allora esiste $y>2x$ tale che $y\in W_x$ (esendo infinito), e $y\in W_x\cap S$, da cui segue la tesi

Si può rifare questo procedimento utilizzando $y>3x$ al posto di $y>2x$ ed ottenere un'altro insieme semplice. Allo stesso modo si può usare qualsiasi coefficiente, quindi gli insiemi semplici sono infiniti
