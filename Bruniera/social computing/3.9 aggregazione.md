# Aggregazione



## Teoria della misurazione

//TODO

## Aggregazione 2

### Esempio 1

Abbiamo una matrice dei relevant assessement, alle colonne abbiamo dei test, alle righe i worker, e nelle celle rilevanza (1) o non rilevanza(0).

Abbimamo il vettore di aggregazione e di ground truth (valutazione degli esperti).

Come aggreghiamo?
* Moda
  * Ottengo solo 0 e 1
  * Perdo informazioni sull'unanimità
* Media
  * Ho un valore tra 0 e 1
  * Il valore misura l'unanimità
  * Non potrei usare la media perché è una scala nominale
    * In questo caso il valore della media verrebbe arrotondato e diventerebbe la moda

A volte le scale hanno alcuni elementi di scala nominale e di scala ordinale. Come in questo caso. Si, abbiamo solo due categorie, ma se le vediamo come un ordine da molto rilevante (1) a poco rilevante (0) notiamo un ordine.
Possiamo fare la media se vediamo 0 e 1 come valori di rilevanza
Questo è più visibile se aggiungiamo più categorie di rilevanza, o pià facilmente di veridicità.

### Esempio 2

Quanto è vera \$affermazione\$?
* Puttanata galattica
* Abbastanza vera
* Vagamente vera
* Falsa
* Principalmente vera
* Verità assoluta

Anche in questo caso aggregare con la moda ha senso perché abbiamo una scala nominale, ma perdiamo alcune informazioni.
Se abbiamo un test in cui risultano metà Verità assoluta e metà Puttanata, ma con poco più di puttanata, la moda dice che è una puttanata. Se abbiamo un altro test da cui risulta tutto Falso la moda dice falso e sembra meno falsa dell'altro test. Intuitivamente non è così.

Possiamo dare dei valori crescenti ai valori di verità per fare altri calcoli:
* Puttanata galattica 0
* Abbastanza vera 3
* Vagamente vera 2
* Falsa 1
* Principalmente vera 4
* Verità assoluta 5

Non è l'unica possibilità:
* Puttanata galattica 1
* Falsa 10
* Vagamente vera 100
* Abbastanza vera 1000
* Principalmente vera 10000
* Verità assoluta 100000

Non è una scala nominale, è ordinale. Non è nemmeno una scala ad intervalli, altrimenti avremmo distanza assodate tra i valori, invece possiamo darevalori diversi.
In questo caso scegliere la media è più complicato del caso precedente, perché arrodondare non ci riporta alla moda.

Certezze e non certezze
* Certezze
  * Saltare di 1 è meno di saltare di 2 nella stessa direzione
  * //TODO
* Non certezze
  * Saltare di 1 in una direzione non è necessariamente uguale a saltare di 1 nell'altra
  * Saltare di 1 in una direzione """ migliore di saltare di 2 nell'altra
  * //TODO

Come facciamo a superare questa limitazione?
Possiamo pensare ad usare una scala a 100 valori, in questo caso, comunque formalmente potremmo fare solo mediana e moda. Ma forse in questo caso possiamo davvero dire che la differenza tra 5 e 6 è la stessa tra 98 e 99.
Quindi più valori abbiamo più ha senso fare la media, non sappiamo e non è detto che ci sia un breakpoint.

### Media aritmetica e geometrica

$$AM(x)=$$
//TODO Forumle

La media geometrica //TODO

#### Esempio

Valutare un miglioramento.
* A Migliora da 0.1 a 0.2
* B Migliora da 0.8 a 0.9
* (massimo 1 minimo 0)

Quale è migliore?
* Ragionamento 1
  * Uguale, sono entrambi 0.1
* Ragionamento 2
  * Meglio A
  * Raddoppia il risultato
* Ragionamento 3
  * Meglio B
  * Migliora qualcosa che era già vicino alla perfezione

Secondo la media aritmetica sono uguali. Secondo la media geometrica è meglio A. La media aritmetica stira lo spazio, espandendolo vicino allo 0, a quel punto è più grande il miglioramento di A.

Si usa la media geometrica per valutare "Problemi difficili", come la qualità di come un motore di ricerca risponde ad una query complessa.

### Morale

* Pondera come scegliere
  * Pensa al domino
  * Non rompere i coglioni se una cosa è formalmente nominale, dipende dal dominio
* Problemi reali
  * Puoi usare scale di 100 valori se serve