# GPU

Terminologia:
* GPU: il termine è stato inventato da nvidia nel 1999.
* GPU computing/GPGPU: (general purpose gpu) usare la GPU per cose che non sono grafica
* Heterogeneous computing: l'utilizzo trasparente di diversi device di architetture diverse per la computazione

Perché usare le GPU? Sono più economiche ed efficienti di altre architetture parallele. Sono trainate dall'industria dei videogiochi, quindi prodotte in massa.

La grafica computerizzata può essere definita (circa) come delle tecniche per produrre e manipolare immagini partendo da dati e modelli.
Generare l'immagine si chiama rendering, in generale prendere una scena 3d e proiettarla in 2d. Uno schermo full hd ha circa 2 milioni di pixel, quindi per generare immagini velocemente serve molto parallelismo.

Le GPU implementano la *graphic pipeline*:
* Geometry:
  * Trasformazioni: scaling, rotazioni, traslazioni, etc
  * Clipping: cancellare le parti non visibili (per non renderizzarle)
  * Lighting e shading
* Rasterization: proiettare la scena sulla griglia di pixel

Storia:
* 1980: I primi chip grafici implementavano fisicamente la pipeline ed erano tutti diversi
  * Potevano avere DMA e "display list" (code di operazioni)
* 1985: Chip grafici simili a CPU, programmabili col loro ISA
  * Potevano avere DSP
* 1990: Primi controller VGA con frame buffer
  * Programmabili ed economiche
  * Accelerazione hardware 2d
* 1995: Impulso all'accelerazione 2d
  * Nuovi chip per accelerazione hardware
  * OpenGL e DirectX
  * Implementazione della pipeline grafica nella GPU
* 1999: GPU
* 2000: Introduzione delle shading units
  * Sono piccoli processori che eseguono dei piccoli programmini prestabiliti chiamati shader
  * La GPU controlla grandi quantità di shading units in stile SIMD
  * Alcuni shader sono:
    * Vertex shader: operazioni sui vertici
    * Geometry shader: costruire oggetti dai vertici
    * Pixel shader: filtri sui pixel
* 2005: Shading unit programmabili
  * Ogni shading unit può eseguire qualsiasi shader e sono definite dal programmatore
  * Programmare le GPU è più facile
  * Nascono i primi progetti di GPGPU, per sfruttare OpenGL per risolvere problemi scientifici sui vettori usando i vertex shader
  * Bisogna stabilire delle tecniche per bilanciare il carico di lavoro sulle shading units
* 2007: Nvidia introduce l'unified shader model
  * Tutti gli shader usano lo stesso ISA
  * Le compute unit (ex shading unit) sono generiche
  * Nvidia propone CUDA (compute unified device architecture)
  * AMD propone Brook+
  * Permettono di programmare le GPU senza utilizzare API grafiche come OpenGL e DirectX
* 2008: Khronos introduce OpenCL
  * Il primo standard per la programmazione parallela cross platform
  * È un framework di heterogeneous computing, è meno efficiente di usare direttamente CUDA